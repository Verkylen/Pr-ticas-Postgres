SELECT applicants.id, e.school, e.course, j.company, j.role FROM applicants JOIN (SELECT educations."userId", schools.name AS school, courses.name AS course FROM educations JOIN schools ON educations."schoolId" = schools.id JOIN courses ON educations."courseId" = courses.id) e ON applicants."userId" = e."userId" JOIN (SELECT jobs.id, companies.name AS company, roles.name AS role FROM jobs JOIN companies ON jobs."companyId" = companies.id JOIN roles ON jobs."roleId" = roles.id WHERE roles.name = 'Software Engineer' AND companies.id = 10 AND jobs.active = true) j ON applicants."jobId" = j.id O
RDER BY applicants.id;